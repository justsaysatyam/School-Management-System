{% extends 'base.html' %}

{% block title %}Notices - Mid Point School{% endblock %}

{% block body %}
<div class="dashboard-layout">
    <aside class="sidebar">
        <div class="sidebar-brand">
            <div class="brand-icon">ğŸ«</div>
            <div>
                <h2>Mid Point School</h2>
            </div>
        </div>
        <nav>
            <ul class="sidebar-nav">
                <li class="nav-item"><a href="{% url 'admin_dashboard' %}" class="nav-link"><span class="icon">ğŸ“Š</span>
                        Dashboard</a></li>
                <li class="nav-item"><a href="{% url 'student_list' %}" class="nav-link"><span class="icon">ğŸ“</span>
                        Students</a></li>
                <li class="nav-item"><a href="{% url 'teacher_list' %}" class="nav-link"><span class="icon">ğŸ‘¨â€ğŸ«</span>
                        Teachers</a></li>
                <li class="nav-item"><a href="{% url 'notice_list' %}" class="nav-link active"><span
                            class="icon">ğŸ“¢</span> Notices</a></li>
                <li class="nav-item" style="margin-top: 2rem;"><a href="{% url 'logout' %}" class="nav-link"><span
                            class="icon">ğŸšª</span> Logout</a></li>
            </ul>
        </nav>
    </aside>

    <main class="main-content">
        <div class="top-header">
            <h1 class="page-title">ğŸ“¢ Notices</h1><a href="{% url 'notice_add' %}" class="btn btn-primary">â• Create
                Notice</a>
        </div>

        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
        {% endif %}

        <div class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Title</th>
                        <th>Category</th>
                        <th>Priority</th>
                        <th>Audience</th>
                        <th>Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for notice in notices %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td><strong>{{ notice.title }}</strong></td>
                        <td><span class="badge badge-info">{{ notice.category }}</span></td>
                        <td><span
                                class="badge badge-{% if notice.priority == 'High' %}danger{% elif notice.priority == 'Medium' %}warning{% else %}success{% endif %}">{{
                                notice.priority }}</span></td>
                        <td>{{ notice.audience }}</td>
                        <td>{{ notice.notice_date }}</td>
                        <td><a href="{% url 'notice_delete' notice.pk %}" class="btn btn-sm btn-danger"
                                onclick="return confirm('Delete this notice?')">Delete</a></td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7" class="text-center text-muted p-4">No notices yet.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </main>
</div>
{% endblock %}